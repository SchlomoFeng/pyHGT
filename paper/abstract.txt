Recent years have witnessed the emerging success of graph neural networks (GNNs) for modeling structured data. 
However, most GNNs are designed for homogeneous graphs, in which all nodes and edges belong to the same types, making them infeasible to represent  heterogeneous structures. 
In this paper, we present the \model\ (\short) architecture for modeling Web-scale heterogeneous graphs. 
To model heterogeneity, we design node- and edge-type dependent parameters to characterize the heterogeneous attention over each edge, empowering \short\ to maintain dedicated representations for different types of nodes and edges. 
To handle dynamic heterogeneous graphs, we introduce the relative temporal encoding technique into \short, which is able to capture the dynamic structural dependency with arbitrary durations. 
%To capture graph dynamics, rather than slicing the graph based on time, we keep the whole graph with each edge/node associated with its timestamp and propose the relative temporal encoding strategy to capture the dynamic dependency with arbitrary durations. 
To handle Web-scale graph data, we design the heterogeneous mini-batch graph sampling algorithm---\sampling---for efficient and scalable training. 
Extensive experiments on the Open Academic Graph of 179 million nodes and 2 billion edges show that the proposed \short\ model consistently outperforms all the state-of-the-art GNN baselines by 9$\%$--21$\%$ on various downstream tasks. The dataset and source code of \short\ are publicly available at \url{https://github.com/acbull/pyHGT}. 



\hide{
Heterogeneous and dynamic graphs are important abstractions for modeling relational data for many real-world systems, and modelling such graphs have been a challenging research topics. Recently, researchers have adopted deep learning into graph domain and achieve competitive performance in various graph-based applications. However, most existing GNN assume nodes are within same distribution and in static graphs, and thus cannot be directly adapted to heterogeneous and dynamic graphs. In this paper, we propose Heterogeneous Graph Transformer (HGT), for modeling web-scale heterogeneous and dynamic graphs. To model heterogeneity, we leverage the meta relation triplet of heterogeneous graph schema to define interaction and transform matrices, so that the model can capture both the common and specific patterns of different relationships using equal or even smaller parameters. To capture temporal information of graphs, we propose to keep a whole graph with edges happening in different time to avoid structure loss, and adopt relative temporal encoding to make the HGT capture dynamic dependency. We further design a heterogeneous graph sampling algorithm with an inductive timestamp assignment algorithm for training large-scale heterogeneous and dynamic graphs. We conduct experiments on Open Academic Graphs (OAG), which contains 0.1 billion nodes and 2 billion edges. The results show that our proposed HGT outperform all the state-of-the-art baselines on various downstream tasks.
}%end of hide
